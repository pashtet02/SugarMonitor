<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="parts/headPart :: header"></head>
<body>
<nav th:replace="parts/navbarPart :: navbar"></nav>
<div class="container">
    <!-- Theme Toggle Button -->
    <div class="d-flex justify-content-end my-3">
        <button id="themeToggle" class="btn btn-secondary">Toggle Theme</button>
    </div>

    <h4 th:text="#{profile.header}">Settings</h4>
    <form method="POST" action="/settings/update">
        <div class="card my-4">
            <div class="card-header">
                <h5 th:text="#{profile.language}" class="card-title">Language</h5>
            </div>
            <div class="card-body bg-light">
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="language" id="ukrainian" value="UK"
                           th:checked="${profile.getLanguage() == 'UK'}">
                    <label th:text="#{profile.ukrainian}"  class="form-check-label" for="ukrainian">
                        Ukrainian
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="language" id="english" value="EN"
                           th:checked="${profile.getLanguage() == 'EN'}">
                    <label th:text="#{profile.english}"  class="form-check-label" for="english">
                        English
                    </label>
                </div>
            </div>
        </div>
        <!-- Other form sections remain unchanged -->
        <div class="d-grid gap-2 d-md-flex justify-content-md-end my-4">
            <button th:text="#{profile.saveChangesButtonText}" class="btn btn-info btn-gradient me-md-2" type="submit">Save changes</button>
        </div>
    </form>
</div>

<script>
    // Theme Toggle Logic
    const themeToggleButton = document.getElementById('themeToggle');
    themeToggleButton.addEventListener('click', () => {
        document.body.classList.toggle('dark-theme');
        // Optionally, save theme preference to localStorage
        const isDarkTheme = document.body.classList.contains('dark-theme');
        localStorage.setItem('theme', isDarkTheme ? 'dark' : 'light');
    });

    // Apply saved theme preference on page load
    window.addEventListener('DOMContentLoaded', () => {
        if (localStorage.getItem('theme') === 'dark') {
            document.body.classList.add('dark-theme');
        }
    });
</script>
</body>
</html>

